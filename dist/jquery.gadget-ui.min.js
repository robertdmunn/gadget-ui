var gadgetui={};gadgetui.model=function(a){"use strict";function b(a,b){this.data=a,this.elements=[],void 0!==b&&this.bind(b)}var c={};return b.prototype.handleEvent=function(b){var c=this;switch(b.type){case"change":a.each(this.elements,function(a,d){b.target.name===d.prop&&c.change(b.target.value,d.prop)})}},b.prototype.change=function(b,c){if(void 0===c)this.data=b;else{if("object"!=typeof this.data)throw"Attempt to treat a simple value as an object with properties. Change fails.";if(void 0===this.data[c])throw"Property '"+c+"' of object is undefined.";this.data[c]=b}a.each(this.elements,function(a,d){if(0===d.prop.length&&"object"!=typeof b)d.elem.val(b);else if(void 0!==c&&"object"==typeof b&&d.prop===c)d.elem.val(b[c.prop]);else{if(void 0!==c&&"object"!=typeof b)return!0;if("object"!=typeof b||d.prop!==c)return console.log("No change conditions met for "+d+" to change."),!0;d.elem.val(b[d.prop])}d.elem.trigger("change")})},b.prototype.bind=function(a,b){var c;void 0===b?(a.val(this.data),c={elem:a,prop:""}):(a.val(this.data[b]),c={elem:a,prop:b}),a[0].addEventListener("change",this,!1),this.elements.push(c)},{BindableObject:b,create:function(a,d,e){c[a]=void 0!==e?new b(d,e):new b(d)},destroy:function(a){delete c[a]},bind:function(a,b){var d=a.split(".");1===d.length?c[a].bind(b):c[d[0]].bind(b,d[1])},exists:function(a){return c.hasOwnProperty(a)?!0:!1},get:function(a){var b=a.split(".");try{if(1===b.length){if(void 0===c[a])throw"Key '"+a+"' does not exist in the model.";return c[a].data}if(void 0===c[b[0]])throw"Key '"+b[0]+"' does not exist in the model.";return c[b[0]].data[b[1]]}catch(d){return void console.log(d)}},set:function(a,b){var d=a.split(".");if(this.exists(d[0])===!1){if(1!==d.length)throw"Object "+d[0]+"is not yet initialized.";this.create(a,b)}else 1===d.length?c[a].change(b):c[d[0]].change(b,d[1])}}}(jQuery),$.gadgetui={},$.gadgetui.textWidth=function(a,b){$.gadgetui.textWidth.fakeEl||($.gadgetui.textWidth.fakeEl=$('<span id="gadgetui-textWidth">').appendTo(document.body));var c,d=a||$.fn.val()||$.fn.text();return d=$.gadgetui.textWidth.fakeEl.text(d).html(),d=d.replace(/\s/g,"&nbsp;"),$.gadgetui.textWidth.fakeEl.html(d).css("font",b||$.fn.css("font")),$.gadgetui.textWidth.fakeEl.css("display","inline"),c=$.gadgetui.textWidth.fakeEl.width(),$.gadgetui.textWidth.fakeEl.css("display","none"),c},$.gadgetui.fitText=function(a,b,c){var d,e=$.gadgetui.textWidth(a,b),f=$.gadgetui.textWidth("...",b);if(c>e)return a;for(d=Math.floor(a.length/2)-1;e+f>=c;)a=a.slice(0,d)+a.slice(d+1,a.length),d=Math.floor(a.length/2)-1,e=$.gadgetui.textWidth(a,b);for(d=Math.floor(a.length/2)-1,a=a.slice(0,d)+"..."+a.slice(d,a.length);" "===a.substring(d-1,d);)a=a.slice(0,d-1)+a.slice(d,a.length),d-=1;for(;" "===a.substring(d+3,d+4);)a=a.slice(0,d+3)+a.slice(d+4,a.length),d-=1;return a},gadgetui.display=function(a){function b(a,b,c){for(var d="undefined"!=typeof c?[c]:document.styleSheets,e=0,f=d.length;f>e;e++){var c=d[e];if(c.cssRules)for(var g=0,h=c.cssRules.length;h>g;g++){var i=c.cssRules[g];if(i.selectorText&&-1!==i.selectorText.split(",").indexOf(b))return i.style[a]}}return null}function c(a,b,c){this.selector=a,this.message=b,this.config(c),this.render(),this.setStyles(),this.setBehaviors(),this.show()}function d(b){var c,d,e=this;e.selector=b.selector,void 0!==b.config&&e.config(b.config),a(e.selector).wrap('<div class="gadget-ui-collapsiblePane ui-corner-all ui-widget-content"></div>'),c=a(e.selector).parent(),c.css("width",e.width),a(e.selector).css("width",e.interiorWidth).css("padding",e.padding),c.prepend('<div class="ui-widget-header ui-corner-all gadget-ui-collapsiblePane-header">'+e.title+'<div class="ui-icon ui-icon-triangle-1-n"></div></div>'),d=a("div.gadget-ui-collapsiblePane-header",c),e.icon=a("div div",c),d.on("click",function(){e.toggle()}),e.collapse===!0&&e.toggle()}function e(b){var c,d=this;d.selector=b.selector,void 0!==b.config&&d.config(b.config),a(d.selector).wrap('<div class="gadget-ui-floatingPane ui-corner-all ui-widget-content"></div>'),d.wrapper=a(d.selector).parent(),d.wrapper.css("width",d.width).css("minWidth",d.minWidth).css("opacity",d.opacity).css("z-index",d.zIndex),a(d.selector).css("width",d.interiorWidth).css("padding",d.padding),d.wrapper.prepend('<div class="ui-widget-header ui-corner-all gadget-ui-floatingPane-header">'+d.title+'<div class="ui-icon ui-icon-arrow-4"></div></div>'),c=a("div.gadget-ui-floatingPane-header",d.wrapper),d.wrapper.draggable({addClasses:!1}),d.maxmin=a("div div[class~='ui-icon']",d.wrapper),d.maxmin.on("click",function(){d.minimized?d.expand():d.minimize()}),d.maxmin.css("float","right").css("display","inline")}return c.prototype.config=function(a){var c=b("color",".ui-state-active");this.bubbleType=void 0===a.bubbleType?"speech":a.bubbleType,this.name=void 0===a.name?"bubble":a.name,this.height=void 0===a.height?100:a.height,this.position=void 0===a.position?"top right":a.position,this.width=void 0===a.width?200:a.width,this.padding=void 0===a.padding?20:a.padding,this.opacity=void 0===a.opacity?1:a.opacity,this.top=this.selector.offset().top,this.left=this.selector.offset().left,this.shadowColor=void 0===a.shadowColor?c:a.shadowColor,this.shadowSize=2,this.borderColor=void 0===a.borderColor?c:a.borderColor,this.borderWidth=void 0===a.borderWidth?8:a.borderWidth,this.arrowPosition=void 0===a.arrowPosition?"bottom left":a.arrowPosition,this.arrowDirection=void 0===a.arrowDirection?"middle":a.arrowDirection,this.arrowPositionArray=this.arrowPosition.split(" "),this.bubbleWidth=this.width+2*this.padding+2*this.borderWidth,this.bubbleHeight=this.height+2*this.padding+2*this.borderWidth,this.closeIconSize=16,this.arrowSize=void 0===a.arrowSize?25:a.arrowSize,this.backgroundColor=void 0===a.backgroundColor?"#FFFFFF":a.backgroundColor,this.lineHeight=void 0===a.lineHeight?20:a.lineHeight,this.borderRadius=void 0===a.borderRadius?30:a.borderRadius,this.boxShadowColor=void 0===a.boxShadowColor?c:a.boxShadowColor,this.font=void 0===a.font?"Arial sans":a.font,this.zIndex=void 0===a.zIndex?100:a.zIndex,this.closable=void 0===a.closable?!1:a.closable,this.autoClose=void 0===a.autoClose?!1:a.autoClose,this.autoCloseDelay=void 0===a.autoCloseDelay?5e3:a.autoCloseDelay},c.prototype.render=function(){var a='<p class="gadgetui_bubble_'+this.bubbleType+'" name="'+this.name+'">'+this.message;this.closable&&(a+='<span class="ui-icon ui-icon-close"></span>'),a+="</p>",this.selector.before(a)},c.prototype.show=function(){this.bubbleSelector.show("fade",500)},c.prototype.setStyles=function(){this.setBubbleStyles(),this.calculateArrowPosition(),this.calculateArrowStyle(),this.setBeforeRules(),this.setAfterRules(),this.calculatePosition(),this.bubbleSelector.css("top",this.top).css("left",this.left),a("span",this.bubbleSelector).css("left",this.bubbleWidth-6-this.closeIconSize-2*this.borderWidth).css("position","absolute").css("cursor","pointer").css("top",6)},c.prototype.setBubbleStyles=function(){this.bubbleSelector=a("p[name='"+this.name+"']",this.selector.parent()),this.bubbleSelector.css("margin",0).css("padding",this.padding).css("width",this.width).css("height",this.height).css("line-height",this.lineHeight+"px").css("border-radius",this.borderRadius).css("-moz-border-radius",this.borderRadius).css("-webkit-border-radius",this.borderRadius).css("-webkit-box-shadow",this.shadowSize+"px "+this.shadowSize+"px 4px "+this.boxShadowColor).css("-moz-box-shadow",this.shadowSize+"px "+this.shadowSize+"px 4px "+this.boxShadowColor).css("box-shadow",this.shadowSize+"px "+this.shadowSize+"px 4px "+this.boxShadowColor).css("border",this.borderWidth+"px solid "+this.borderColor).css("background-color",this.backgroundColor).css("position","absolute").css("text-align","left").css("opacity",this.opacity).css("font",this.font).css("z-index",this.zIndex)},c.prototype.setBeforeRules=function(){var a={content:" ",position:"absolute",width:0,height:0,left:this.beforeArrowLeft+"px",top:this.arrowTop+"px",border:this.arrowSize+"px solid",borderColor:this.beforeBorderColor};addRule("p[name='"+this.name+"']:before",a)},c.prototype.setAfterRules=function(){var a={content:" ",position:"absolute",width:0,height:0,left:this.afterArrowLeft+"px",top:this.afterArrowTop+"px",border:this.afterArrowSize+"px solid",borderColor:this.afterBorderColor};addRule("p[name='"+this.name+"']:after",a)},c.prototype.calculatePosition=function(){var b=this;a.each(this.position.split(" "),function(a,c){switch(c){case"top":break;case"bottom":b.top=b.top+b.selector.outerHeight();break;case"left":break;case"right":b.left=b.left+b.selector.outerWidth();break;case"center":b.left=b.left+b.selector.outerWidth()/2}})},c.prototype.calculateArrowPosition=function(){var a,b=2*this.arrowSize,c=2*this.padding,d=this.borderWidth+this.borderRadius+this.arrowSize;switch(afterArrowOffset=Math.floor(Math.sqrt(Math.pow(this.borderWidth,2)+Math.pow(this.borderWidth,2)))-1,this.afterArrowSize=this.arrowSize-afterArrowOffset,a=(b-2*this.afterArrowSize)/2,this.arrowPositionArray[0]){case"left":this.beforeArrowLeft=-b,this.afterArrowLeft=2*-this.afterArrowSize,this.left=this.left+this.arrowSize-this.borderWidth;break;case"right":this.beforeArrowLeft=this.width+c,this.afterArrowLeft=this.beforeArrowLeft,this.left=this.left-this.bubbleWidth-this.arrowSize+this.borderWidth;break;case"top":this.arrowTop=-b,this.afterArrowTop=-(2*this.afterArrowSize),this.top=this.top+this.arrowSize-this.borderWidth;break;case"bottom":this.arrowTop=this.height+c,this.afterArrowTop=this.arrowTop,this.top=this.top-this.bubbleHeight-this.arrowSize+this.borderWidth}switch(this.arrowPositionArray[1]){case"top":this.arrowTop=this.borderRadius,this.afterArrowTop=this.arrowTop+a,this.top=this.top-d;break;case"bottom":this.arrowTop=this.bubbleHeight-2*this.borderWidth-b-this.borderRadius,this.afterArrowTop=this.arrowTop+a,this.top=this.top-this.bubbleHeight+d;break;case"right":this.beforeArrowLeft=this.bubbleWidth-2*this.borderWidth-b-this.borderRadius,this.afterArrowLeft=this.beforeArrowLeft+afterArrowOffset,this.left=this.left-this.bubbleWidth+d;break;case"left":this.beforeArrowLeft=this.borderRadius,this.afterArrowLeft=this.beforeArrowLeft+afterArrowOffset,this.left=this.left-d}},c.prototype.calculateArrowStyle=function(){var a=[],b=this.arrowPositionArray[0],c=this.arrowPositionArray[1]+" "+this.arrowDirection;if("middle"===this.arrowDirection)switch(this.arrowPositionArray[0]){case"top":this.beforeBorderColor="transparent transparent "+this.borderColor+" transparent",this.afterBorderColor="transparent transparent #fff transparent";break;case"bottom":this.beforeBorderColor=this.borderColor+" transparent transparent transparent",this.afterBorderColor="#fff transparent transparent transparent";break;case"right":this.beforeBorderColor="transparent transparent transparent "+this.borderColor,this.afterBorderColor="transparent transparent transparent #fff";break;case"left":this.beforeBorderColor="transparent "+this.borderColor+" transparent transparent",this.afterBorderColor="transparent #fff transparent transparent"}else"top"===b||"bottom corner"===c||"top center"===c?(a[0]="transparent",a[2]=this.borderColor):("bottom"===b||"bottom center"===c||"top corner"===c)&&(a[0]=this.borderColor,a[2]="transparent"),"right"===b||"left corner"===c||"right center"===c?(a[1]="transparent",a[3]=this.borderColor):("left"===b||"left center"===c||"right corner"===c)&&(a[1]=this.borderColor,a[3]="transparent"),this.beforeBorderColor=a.toString().replace(/\),/gi,") ").replace(/,transparent/gi," transparent").replace(/transparent,/gi,"transparent "),this.afterBorderColor=this.beforeBorderColor.replace(this.borderColor,"#fff","g"),console.log(this.beforeBorderColor),console.log(this.afterBorderColor)},c.prototype.setBehaviors=function(){var b=this;a("span",this.bubbleSelector).on("click",function(){b.bubbleSelector.hide("fade",500).remove()}),this.autoClose&&(closeBubble=function(){b.bubbleSelector.hide("fade",500).remove()},setTimeout("closeBubble()",this.autoCloseDelay))},d.prototype.config=function(b){this.title=void 0===b.title?"":b.title,this.path=void 0===b.path?"/bower_components/gadget-ui/dist/":b.path,this.padding=void 0===b.padding?".5em":b.padding,this.paddingTop=void 0===b.paddingTop?".3em":b.paddingTop,this.width=void 0===b.width?a(this.selector).css("width"):b.width,this.interiorWidth=void 0===b.interiorWidth?"":b.interiorWidth,this.collapse=void 0===b.collapse||b.collapse===!1?!1:!0},d.prototype.toggle=function(){var b,c,d=this,e="ui-icon-triangle-1-s",f="ui-icon-triangle-1-n";"none"===d.selector.css("display")?(b=f,c=e):(b=e,c=f),d.eventName=void 0===d.eventName||"collapse"===d.eventName?"expand":"collapse",d.selector.css("padding",d.padding).css("padding-top",d.paddingTop).toggle("blind",{},200,function(){a(d.icon).addClass(b).removeClass(c),a(this).css("padding",d.padding),d.selector.trigger(d.eventName)})},e.prototype.config=function(b){this.title=void 0===b.title?"":b.title,this.path=void 0===b.path?"/bower_components/gadget-ui/dist/":b.path,this.position=void 0===b.position?{my:"right top",at:"right top",of:window}:b.position,this.padding=void 0===b.padding?".5em":b.padding,this.paddingTop=void 0===b.paddingTop?".3em":b.paddingTop,this.width=void 0===b.width?a(this.selector).css("width"):b.width,this.minWidth=this.title.length>0?Math.max(100,10*this.title.length):100,this.height=void 0===b.height?a(this.selector).css("height"):b.height,this.interiorWidth=void 0===b.interiorWidth?"100%":b.interiorWidth,this.opacity=void 0===b.opacity?1:b.opacity,this.zIndex=void 0===b.zIndex?1e5:b.zIndex,this.minimized=!1},e.prototype.expand=function(){var b=this,c=a(this.wrapper).offset(),d=parseInt(new Number(c.left),10),e=parseInt(this.width.substr(0,this.width.length-2),10);this.wrapper.animate({left:d-e+b.minWidth},{queue:!1,duration:500},function(){}),this.wrapper.animate({width:this.width},{queue:!1,duration:500},function(){}),this.wrapper.animate({height:this.height},{queue:!1,duration:500,complete:function(){b.maxmin.removeClass("ui-icon-arrow-4-diag").addClass("ui-icon-arrow-4")}}),this.minimized=!1},e.prototype.minimize=function(){var b=this,c=a(this.wrapper).offset(),d=parseInt(new Number(c.left),10),e=parseInt(this.width.substr(0,this.width.length-2),10);this.wrapper.animate({left:d+e-b.minWidth},{queue:!1,duration:500},function(){}),this.wrapper.animate({width:b.minWidth},{queue:!1,duration:500,complete:function(){b.maxmin.removeClass("ui-icon-arrow-4").addClass("ui-icon-arrow-4-diag")}}),this.wrapper.animate({height:"50px"},{queue:!1,duration:500},function(){}),this.minimized=!0},{Bubble:c,CollapsiblePane:d,FloatingPane:e}}(jQuery),gadgetui.input=function(a){function b(b){function c(b,c){var d=c;a(b).parent().on("click",function(){a(b).focus()}).on("click","div[class~='gadgetui-lookuplist-input-cancel']",function(c){d.remove(b,a(c.target).attr("gadgetui-lookuplist-input-value"))}),a(b).autocomplete({minLength:d.minLength,source:function(b,c){c(a.ui.autocomplete.filter(d.lookupList,gadgetui.util.extractLast(b.term)))},focus:function(){return!1},select:function(a,b){var c=gadgetui.util.split(this.value);return c.pop(),d.add(this,b.item),this.value="",this.focus(),!1}}).on("keydown",function(b){if(a(this).css("width",Math.round(.66*a(this).val().length+3)+"em"),b.keyCode===a.ui.keyCode.TAB&&a(this).data("ui-autocomplete").menu.active&&b.preventDefault(),b.keyCode===a.ui.keyCode.BACKSPACE&&0===a(this).val().length){b.preventDefault();var c=a(this).prev("div[class~='gadgetui-lookuplist-input-item-wrapper']");c.remove()}}),a.ui.autocomplete.prototype._renderItem=function(b,c){return"function"==typeof d.menuItemRenderer?a("<li>").attr("data-value",c.value).append(a("<a>").text(d.menuItemRenderer(c))).appendTo(b):a("<li>").append(a("<a>").text(c.label)).appendTo(b)}}var d=this;_renderLabel=function(a){return a.label},this.itemRenderer=_renderLabel,this.menuItemRenderer=_renderLabel,this.lookupList,this.emitEvents=!0,this.model,this.el=void 0===b.el?a("input[gadgetui-lookuplist-input='true']",document):b.el,void 0!==b.config&&d.config(b.config),a.each(this.el,function(b,f){val=a(f).val(),e(f,d.model),a(f).wrap('<div class="gadgetui-lookuplistinput-div ui-widget-content ui-corner-all"></div>'),c(f,d)})}function c(b){function c(b,c,d){var e,f=this,g=a("span",a(b)),h=a("select",b);e=void 0===d?{}:d,g.on(c.activate,function(){f=this,a(f).hide(),h.css("min-width","10em").css("display","inline")}),a(b).on("change",function(a){var b=a.target.value;0===b.trim().length&&(b=" ... "),e.isDirty=!0,g.text(b)}),h.on("blur",function(){var b,d=this;setTimeout(function(){b=a(d).val(),e.isDirty===!0&&(0===b.trim().length&&(b=" ... "),e[d.name]=a(d).val(),g.text(b),void 0!==c.model&&void 0===a(d).attr("gadgetui-bind")&&c.model.set(d.name,e[d.name]),e.isDirty=!1,emitEvents===!0&&a(d).trigger("gadgetui-input-change",[e]),void 0!==c.func&&c.func(e)),g.css("display","inline"),a(d).hide()},100)}).on("keyup",function(b){var c=this;13===parseInt(b.keyCode,10)&&a(c).blur()}),b.on("mouseleave",function(){h.is(":focus")===!1&&(g.css("display","inline"),h.hide())})}var d,f,g,h=this;return h.emitEvents=!0,h.model,h.func,el=void 0===b.el?a("select[gadgetui-selectinput='true']",document):b.el,1===el.length&&void 0!==b.object&&(g=b.object),void 0!==b.config&&h.config(b.config),a.each(el,function(b,i){d=a(i).val(),f=a(i).attr("placeholder"),e(i,h.model),0===d.length&&(d=void 0!==f&&f.length>0?f:" ... "),a(i).wrap("<div class='gadgetui-selectinput-div'></div>"),a(i).parent().prepend("<span>"+d+"</span>"),a(i).hide(),c(a(i).parent(),h,g)}),this}function d(b){var c,d,f,g=this;return g.emitEvents=!0,g.model,g.func,g.setElements(b.el),1===g.el.length&&void 0!==b.object&&(d=b.object),void 0===b.config&&(b.config={}),g.config(b.config),a.each(g.el,function(b,h){e(h,g.model),c=g.setInitialValue(h),g.addClass(h),g.addControl(h,c),f=g.setLineHeight(h),g.setWidth(h,c),g.addCSS(h,f),g.addBindings(a(h),d)}),this}var e=function(b,c){var d=a(b).attr("gadgetui-bind");void 0!==d&&void 0!==c&&c.bind(d,a(b))};return b.prototype.add=function(b,c){var d,e,f;f=c.title||"",a("<div class='gadgetui-lookuplist-input-item-wrapper'><div class='gadgetui-lookuplist-input-cancel ui-corner-all ui-widget-content' gadgetui-lookuplist-input-value='"+c.value+"'><div class='gadgetui-lookuplist-input-item'>"+this.itemRenderer(c)+"</div></div></div>").insertBefore(b),a(b).val(""),void 0!==c.title&&a("div[class~='gadgetui-lookuplist-input-cancel']",a(b).parent()).last().attr("title",c.title),this.emitEvents===!0&&a(b).trigger("gadgetui-lookuplistinput-add",[c]),void 0!==this.func&&this.func(c,"add"),void 0!==this.model&&(d=a(b).attr("gadgetui-bind"),e=this.model.get(d),e.push(c),this.model.set(d,e))},b.prototype.remove=function(b,c){a("div[gadgetui-lookuplist-input-value='"+c+"']",a(b).parent()).parent().remove();var d,e,f=this;void 0!==this.model&&(d=a(b).attr("gadgetui-bind"),e=this.model.get(d),a.each(e,function(g,h){return h.value===c?(e.splice(g,1),void 0!==f.func&&f.func(h,"remove"),f.emitEvents===!0&&a(b).trigger("gadgetui-lookuplistinput-remove",[h]),f.model.set(d,e),!1):void 0}))},b.prototype.reset=function(){a(".gadgetui-lookuplist-input-item-wrapper",a(this.el).parent()).empty(),void 0!==this.model&&(prop=a(this.el).attr("gadget-ui-bind"),list=this.model.get(prop),list.length=0)},b.prototype.config=function(a){var b=this;return b.model=void 0===a.model?b.model:a.model,b.func=void 0===a.func?void 0:a.func,b.itemRenderer=void 0===a.itemRenderer?b.itemRenderer:a.itemRenderer,b.menuItemRenderer=void 0===a.menuItemRenderer?b.menuItemRenderer:a.menuItemRenderer,b.emitEvents=void 0===a.emitEvents?!0:a.emitEvents,b.lookupList=void 0===a.lookupList?!0:a.lookupList,b.minLength=void 0===a.minLength?0:a.minLength,b},c.prototype.config=function(a){var b=this;return b.model=void 0===a.model?b.model:a.model,b.func=void 0===a.func?void 0:a.func,b.emitEvents=void 0===a.emitEvents?!0:a.emitEvents,b.activate=void 0===a.activate?"mouseenter":a.activate,b},d.prototype.addBindings=function(b,c){var d,e=this,f=a(b).parent(),g=a("div[class='gadgetui-inputlabel']",f),h=a("input",g),i=f.css("font-size")+" "+f.css("font-family");d=void 0===c?{}:c,b.off("mouseleave").on("mouseleave",function(){b.is(":focus")===!1&&(g.css("display","block"),b.hide(),a("input",a(f).parent()).css("max-width",e.maxWidth))}),h.off(e.activate).on(e.activate,function(){g.hide(),a("input",f).css("max-width","").css("min-width","10em").css("width",a.gadgetui.textWidth(b.val(),i)+10),b.css("display","block"),"click"===e.activate&&b.focus()}),b.off("focus").on("focus",function(a){a.preventDefault()}),b.off("blur").on("blur",function(){var b,c,j,k=this;setTimeout(function(){b=a(k).val(),d.isDirty===!0&&(0===b.length&&void 0!==a(k).attr("placeholder")&&(b=a(k).attr("placeholder")),d[k.name]=a(k).val(),c=a.gadgetui.textWidth(b,i),j=e.maxWidth<c?a.gadgetui.fitText(b,i,e.maxWidth):b,h.val(j),void 0!==e.model&&void 0===a(k).attr("gadgetui-bind")&&e.model.set(k.name,d[k.name]),d.isDirty=!1,e.emitEvents===!0&&a(k).trigger("gadgetui-input-change",[d]),void 0!==e.func&&e.func(d)),h.css("display","block"),g.css("display","block"),a("input",a(f).parent()).css("max-width",e.maxWidth),a(k).hide()},200)}),b.off("keyup").on("keyup",function(c){13===parseInt(c.keyCode,10)&&a(this).blur(),a("input",f).css("width",a.gadgetui.textWidth(b.val(),i)+10)}),b.off("change").on("change",function(a){var b=a.target.value;0===b.trim().length&&(b=" ... "),d.isDirty=!0,h.val(b)})},d.prototype.addClass=function(b){a(b).addClass("gadgetui-textinput")},d.prototype.setInitialValue=function(b){var c=a(b).val(),d=a(b).attr("placeholder");return 0===c.length&&(c=void 0!==d&&d.length>0?d:" ... "),c},d.prototype.addControl=function(b,c){a(b).wrap("<div class='gadgetui-textinput-div'></div>"),a(b).parent().prepend("<div class='gadgetui-inputlabel'><input type='text' class='gadgetui-inputlabelinput' readonly='true' style='border:0;background:none;' value='"+c+"'></div>"),a(b).hide()},d.prototype.setLineHeight=function(b){var c=a(b).outerHeight();c>20&&(a(b).parent().css("min-height",c),a("div[class='gadgetui-inputlabel']",a(b).parent()).css("min-height",c))},d.prototype.setWidth=function(b,c){var d=window.getComputedStyle(a(b)[0]),e=window.getComputedStyle(a(b).parent().parent()[0]),f=d.fontFamily+" "+d.fontSize+" "+d.fontWeight+" "+d.fontVariant,g=a.gadgetui.textWidth(a(b).val(),f)+10,h=e.width;parseInt(e.width.substring(0,e.width.length-2),10),void 0===this.borderColor&&(this.borderColor=d.borderBottomColor),h>10&&this.enforceMaxWidth===!0&&(a("input",a(b).parent()).css("max-width",h),this.maxWidth=h,10===g&&(g=h),g>h&&a("input[class='gadgetui-inputlabelinput']",a(b).parent()).val(a.gadgetui.fitText(c),f,h)),h>g&&(g=h)},d.prototype.addCSS=function(b,c){a("input[class='gadgetui-inputlabelinput']",a(b).parent()).css("font-size",window.getComputedStyle(a(b)[0]).fontSize).css("border","1px solid transparent"),a("div[class='gadgetui-inputlabel']",a(b).parent()).css("height",c).css("padding-left","2px").css("font-size",a(b).css("font-size")).css("display","block"),a(b).css("padding-left","2px").css("border","1px solid "+this.borderColor)},d.prototype.setElements=function(b){void 0===b&&(b=a("input[gadgetui-textinput='true']",document)),this.el=b},d.prototype.config=function(a){var b=this;b.borderColor=void 0===a.borderColor?b.borderColor:a.borderColor,b.model=void 0===a.model?b.model:a.model,b.func=void 0===a.func?void 0:a.func,b.emitEvents=void 0===a.emitEvents?!0:a.emitEvents,b.activate=void 0===a.activate?"mouseenter":a.activate,b.enforceMaxWidth=void 0===a.enforceMaxWidth?!1:a.enforceMaxWidth},{TextInput:d,SelectInput:c,LookupListInput:b}}(jQuery),gadgetui.util=function(){return{split:function(a){return a.split(/,\s*/)},extractLast:function(a){return this.split(a).pop()}}}();